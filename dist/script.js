"use strict";var input=document.getElementById("searchInput"),button=document.getElementById("searchBtn");function isoToDate(t){return new Date(t).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"short",day:"numeric"})}function updateWeatherUI(t){document.getElementById("time").textContent=isoToDate(t.current.time),document.getElementById("temperature").textContent=Math.round(t.current.temperature_2m)+"°",document.getElementById("temperature-feels").textContent=Math.round(t.current.apparent_temperature)+"°",document.getElementById("humidity").textContent=t.current.relative_humidity_2m+"%",document.getElementById("wind").textContent=Math.round(t.current.wind_speed_10m)+"km/h",document.getElementById("precipitation").textContent=t.current.precipitation+"mm"}button.addEventListener("click",function(){var t=input.value;console.log(t),fetch("http://localhost:3002/api/search?q=".concat(encodeURIComponent(t))).then(function(t){return t.json()}).then(function(t){if(t.length){var e=t[0],n=e.lat,r=e.lon,o=e.display_name.split(","),u=o[0].trim()+", "+o[o.length-1].trim();document.getElementById("location").textContent=u;var a="https://api.open-meteo.com/v1/forecast?latitude=".concat(n,"&longitude=").concat(r,"&current=temperature_2m,relative_humidity_2m,precipitation,wind_speed_10m,apparent_temperature");return fetch(a)}alert("Aucun résultat trouvé")}).then(function(t){return t.json()}).then(function(t){updateWeatherUI(t)}).catch(function(t){return console.error(t)})});//# sourceMappingURL=script.js.map
